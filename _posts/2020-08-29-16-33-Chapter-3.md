---
layout: post
title: "Chapter 3: Strings, Vectors, and Arrays"
categories:
  - C++ Primer Fifth Edition
tags:
  - C++
  - C++ Primer Fifth Edition
last_modified_at: 2020-08-29-17-43
---

<strong>Exercise 3.1:</strong> Rewrite the exercises from ยง 1.4.1 (p. 13) and ยง 2.6.2 (p. 76) with appropriate using declarations.

{% highlight cpp %}
#include <iostream>

using std::cout;
using std::endl;

int main() {
  int sum = 0, val = 1;
  
  while (val <= 10) {
    sum += val;
    ++val;
  }
  
  cout << "Sum of 1 to 10 inclusive is " << sum << endl;
  
  return 0;
}
{% endhighlight %}

{% highlight cpp %}
#include <iostream>
#include <string>
#include "Sales_data.h"

using std::cin;
using std::cout;
using std::endl;
using std::cerr;

int main() {
  Sales_data data1, data2;
  double price = 0;
  cin >> data1.bookNo >> data1.units_sold >> price;
  data.revenue = data1.units_sold * price;
  cin >> data1.bookNo >> data1.units_sold >> price;
  cin >> data2.bookNo >> data2.units_sold >> price;
  data2.revenue = data.units_sold * price;
  
  if (data1.bookNo == data2.bookNo) {
    unsigned totalCnt = data1.units_sold + data2.units_sold;
    double totalRevenue = data1.revenue + data2.revenue;
    cout << data1.bookNo << " " << totalCnt
         << " " << totalRevenue << " ";
         
    if (totalCnt != 0)
      cout << totalRevenue / totalCnt << endl;
    else
      cout << "(no sales)" << std::endl;
    return 0;
  } else {
    cerr << "Data must refer to the same ISBN"
         << endl;
    return -1;
  }
}
{% endhighlight %}


<strong>Exercise 3.2:</strong> Write a program to read the standard input a line at a time. Modify your program to read a word at a time.

{% highlight cpp %}
#include <iostream>
#include <string>

using std::cin;
using std::cout;
using std::endl;
using std::string;

int main() {
  string line;
  
  while (getline(cin, line))
    cout << line << endl;
    
  return 0;
}
{% endhighlight %}

{% highlight cpp %}
#include <iostream>
#include <string>

using std::cin;
using std::cout;
using std::endl;
using std::string;

int main() {
  string word;
  
  while (cin >> word)
    cout << word << endl;
    
  return 0;
}
{% endhighlight %}


<strong>Exercise 3.3:</strong> Explain how whitespace characters are handled in the string input operator and in the getline function.

{% highlight txt %}
The string input operator reads and discards any leading whitespace
(e.g., spaces, newlines, tabs). It then reads characters until the
next whitespace character is encountered.

The getline function takes an input stream and a string. This function
reads the given stream up to and including the first newline and stores
what it read-not including the newline-in its string argument. After
getline sees a newline, even if it is the first character in the input,
it stops reading and returns.
{% endhighlight %}


<strong>Exercise 3.4:</strong> Write a program to read two strings and report whether the strings are equal. If not, report which of the two is larger. Now, change the program to report whether the strings have the same length, and if not, report which is longer.

{% highlight cpp %}
#include <iostream>
#include <string>

using std::cin;
using std::cout;
using std::endl;
using std::string;

int main() {
  string str1, str2;
  
  cin >> str1 >> str2;
  
  if (str1 == str2)
    cout << "The strings are equal" << endl;
  else
    if (str1 > str2)
      cout << "A string, " << str1 << ", is larger than " << str2 << endl;
    else
      cout << "A string, " << str2 << ", is larger than " << str1 << endl;
    
  return 0;
}
{% endhighlight %}

{% highlight cpp %}
#include <iostream>
#include <string>

using std::cin;
using std::cout;
using std::endl;
using std::string;

int main() {
  string str1, str2;
  
  cin >> str1 >> str2;
  
  if (str1.size() == str2.size())
    cout << "The strings have the same length" << endl;
  else
    if (str1.size() > str2.size())
      cout << "A string, " << str1 << ", is longer than " << str2 << endl;
    else
      cout << "A string, " << str2 << ", is longer than " << str1 << endl;
    
  return 0;
}
{% endhighlight %}


<strong>Exercise 3.5:</strong> Write a program to read strings from the standard input, concatenating what is read into one large string. Print the concatenated string. Next, change the program to separate adjacent input strings by a space.

{% highlight cpp %}
#include <iostream>
#include <string>

using std::cin;
using std::cout;
using std::endl;
using std::string;

int main() {
  string str, lStr;
  
  while (cin >> str)
    lStr += str;
  
  cout << lStr << endl;
  
  return 0;
}
{% endhighlight %}

{% highlight cpp %}
#include <iostream>
#include <string>

using std::cin;
using std::cout;
using std::endl;
using std::string;

int main() {
  string str, lStr;
  
  while (cin >> str)
    lStr += str + " ";
  
  cout << lStr << endl;
  
  return 0;
}
{% endhighlight %}


<strong>Exercise 3.6:</strong> Use a range for to change all the characters in a string to X.

{% highlight cpp %}
#include <iostream>
#include <string>

using std::cin;
using std::cout;
using std::endl;
using std::string;

int main() {
  string str("Hello, world!");
  
  for (auto &c : str)
    c = 'X';
    
  cout << str << endl;
  
  return 0;
}
{% endhighlight %}


<strong>Exercise 3.7:</strong> What would happen if you define the loop control variable in the previous exercise as type char? Predict the results and then change your program to use a char to see if you were right.

{% highlight cpp %}
#include <iostream>
#include <string>

using std::cin;
using std::cout;
using std::endl;
using std::string;

int main() {
  string str("Hello, world!");
  
  for (char &c : str)
    c = 'X';
    
  cout << str << endl;
  
  return 0;
}
{% endhighlight %}

{% highlight txt %}
There is no different.
{% endhighlight %}


<strong>Exercise 3.8:</strong> Rewrite the program in the first exercise, first using a while and again using a traditional for loop. Which of the three approaches do you prefer and why?

{% highlight cpp %}
#include <iostream>
#include <string>

using std::cin;
using std::cout;
using std::endl;
using std::string;

int main() {
  string str("Hello, world!");
  unsigned int n = 0;
  
  while (n < str.size())
    str[n++] = 'X';
    
  cout << str << endl;
  
  return 0;
}
{% endhighlight %}

{% highlight cpp %}
#include <iostream>
#include <string>

using std::cin;
using std::cout;
using std::endl;
using std::string;

int main() {
  string str("Hello, world!");
  
  for (auto &c : str)
    c = 'X';
    
  cout << str << endl;
  
  return 0;
}
{% endhighlight %}


<strong>Exercise 3.9:</strong> What does the following program do? Is it valid? If not, why not?

{% highlight cpp %}
string s;
cout << s[0] << endl;
{% endhighlight %}

{% highlight txt %}
Invalid
The program prints the first character of the string. However, there
is no character to print in the string s.
{% endhighlight %}


<strong>Exercise 3.10:</strong> Write a program that reads a string of characters including punctuation and writes what was read but with the punctuation removed.

{% highlight cpp %}
#include <iostream>
#include <string>

using std::cin;
using std::cout;
using std::endl;
using std::string;

int main() {
  string line;
  getline(cin, line);
  
  for (auto &c : line)
    if (ispunct(c))
      c = 0;
      
  cout << line << endl;
  
  return 0;
}
{% endhighlight %}


<strong>Exercise 3.11:</strong> Is the following range for legal? If so, what is the type of c?

{% highlight cpp %}
const string s = "Keep out!";

for(auto&c:s)
  {/*... */}
{% endhighlight %}

{% highlight txt %}
When you just access c's value, it is legal. However, changing its value,
it is illegal because c is a const char&.
{% endhighlight %}

